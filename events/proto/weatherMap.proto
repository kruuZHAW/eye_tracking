syntax = "proto3";

import "google/protobuf/timestamp.proto";

package tern.protobuf;

// Defines the weather forecast data, at a certain time and location.
message WeatherData {
    double temperature = 1; // in K
    double wind_u_component = 2; // in m/s
    double wind_v_component = 3; // in m/s
}

// The altitude as pressure dimension of the weather data 4d matrix.
message WeatherDataAtPressureLevels {
    repeated WeatherData pressure_levels = 1;
}

// The longitude dimension of the weather data 4d matrix.
message WeatherDataAtPressureLevelsAndLongitudes {
    repeated WeatherDataAtPressureLevels longitudes = 1;
}

// The latitude dimension of the weather data 4d matrix.
message WeatherDataAtPressureLevelsAndLongitudesAndLatitudes {
    repeated WeatherDataAtPressureLevelsAndLongitudes latitudes = 1;
}

// The time dimension of the weather data 4d matrix.
message WeatherData4D {
    repeated WeatherDataAtPressureLevelsAndLongitudesAndLatitudes forecast_hours = 1;
}

// The weather map.
message WeatherMap {
    google.protobuf.Timestamp time_of_data = 1;
    double lat_deg_min = 2;
    double lat_deg_max = 3;
    double lon_deg_min = 4;
    double lon_deg_max = 5;
    double lat_deg_step = 6;
    double lon_deg_step = 7;
    repeated int64 pressure_values = 8;
    repeated int64 hour_values = 9;
    WeatherData4D forecast = 10;
}

// Defines the weather forecast update message
message WeatherForecastUpdate{
    WeatherMap weather_map = 1;
}
