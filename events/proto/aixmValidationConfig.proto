syntax = "proto3";

package aixm_validation.protobuf;

// Flight Record Lifecycle State
enum AixmValueType {
    AIXM_VALUE_TYPE_NOT_SET = 0;
    AIRSPACE = 1;
    RUNWAY = 2;
    SIGNIFICANT_POINT = 3;
    NAVAID = 4;
    AIRPORT_HELIPORT = 5;
    DEPARTURE_PROCEDURE = 6;
    DEPARTURE_PROCEDURE_HELIPORT = 7;
    ARRIVAL_PROCEDURE = 8;
    ARRIVAL_PROCEDURE_HELIPORT = 9;
    PROCEDURE = 10;
    PROCEDURE_HELIPORT = 11;
    ROUTE = 12;
    ANY = 13;
}

// The ValidationPath specifies a single path 
message ValidationPath {

    // Xpath path to AIXM value within system config file
    string path = 1;

    // Type of AIXM value, used for lookup
    AixmValueType type = 2;

    // Set if a secondary value is used for the lookup e.g. Aerodromes
    string secondary_path = 3;

    // If set the configuration value is split into multiple values on a delimeter
    string separator = 4;
}

enum FileType {
    FILE_TYPE_NOT_SET = 0;
    JSON = 1;
    XML = 2;
}

// The ValidationConfig defines the main type used to validate AIXM config for any system
// Can specify multiple configuration files and paths to validate within that configuration path
message ValidationItem {

    // Name of the system configuration file to use
    string configuration_file = 1;

    //Specifies the file type used for the system config
    FileType file_type = 2;

    // Namespace used for XML files
    string xml_namespace = 3; 

    // Defines all the paths that the validation needs to lookup to find AIXM values 
    repeated ValidationPath configuration_paths = 4;
}

// Root of Configuration
message AixmValidationConfig {
    
    string aixm_file = 1;
    // Configuration for the AIXM Validator
    repeated ValidationItem validation_items = 2;
}
