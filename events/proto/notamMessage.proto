syntax = "proto3";

import "google/protobuf/timestamp.proto";

package tern.protobuf;

// This represents the type of traffic
enum TrafficType {
  TRAFFIC_NOT_SET = 0;
  IFR_TRAFFIC = 1;
  VFR_TRAFFIC = 2;
  IFR_AND_VFR_TRAFFIC = 3;
}

// The NOTAM operation type.
enum NotamType {
  NOTAM_TYPE_NEW = 0;
  NOTAM_TYPE_REPLACE = 1;
  NOTAM_TYPE_CANCEL = 2;
}

message NotamMessageReference {
  // One character identifying the NOTAM series.
  string notam_series = 1;
  // The sequence counter of the message.
  uint32 counter = 2;
  // The year the NOTAM message was issued.
  uint32 year = 3;
}

// This represents the generic NOTAM message
message NotamMessage {
  string fir = 1;
  string notam_code = 2;
  TrafficType traffic = 3;
  string scope = 4;
  string location = 5;
  google.protobuf.Timestamp valid_from = 6; // UTC time
  google.protobuf.Timestamp estimated_validity_to = 7; // UTC time
  string free_text = 8;
  string original_message = 9;
  NotamType notam_type = 10;
  NotamMessageReference current_message = 11;
  NotamMessageReference previous_message = 12;
}
